# 📖 US-003: 음식점 상세 정보 확인 및 방문하기

## 📋 문서 정보

| 항목 | 내용 |
|------|------|
| **User Story ID** | US-003 |
| **버전** | 1.0 |
| **작성일** | 2024년 12월 4일 |
| **상태** | 📝 작성완료 |

---

## 🎯 User Story

> **사용자로서**, 마음에 드는 음식점의 상세 정보(리뷰, 영업시간, 위치)를 확인하고, 바로 방문하거나 연락하고 싶다.  
> **왜냐하면**, 음식점을 방문하기 전에 충분한 정보를 확인하고 결정하고 싶기 때문이다.

---

## 👤 페르소나

| 항목 | 내용 |
|------|------|
| **이름** | 박신중 |
| **나이** | 35세 |
| **직업** | 회사원 |
| **상황** | 추천받은 음식점 중 하나를 선택, 방문 전 확인하고 싶음 |
| **니즈** | 리뷰, 영업시간, 위치를 확인하고 바로 길찾기 또는 전화 |

---

## 📝 시나리오 상세

### 사전 조건 (Preconditions)
- 사용자가 음식점 목록을 확인한 상태 (US-001 또는 US-002 완료)
- 선택하고 싶은 음식점이 있는 상태

### 기본 흐름 (Basic Flow)

```
1. 사용자가 음식점 카드를 탭한다
2. 시스템이 음식점 상세 화면을 표시한다
3. 시스템이 음식점 사진 갤러리를 표시한다
   - 대표 사진 + 추가 사진들 (스와이프 가능)
4. 시스템이 기본 정보를 표시한다
   - 음식점 이름, 카테고리
   - 평점 (별점 + 리뷰 수)
   - 가격대 (₩ ~ ₩₩₩₩)
   - 영업 상태 (영업 중/영업 종료)
5. 시스템이 상세 정보를 표시한다
   - 상세 주소
   - 영업시간 (오늘 + 전체)
   - 전화번호
6. 시스템이 지도 미리보기를 표시한다
   - 음식점 위치 마커
   - 현재 위치에서의 거리
7. 시스템이 리뷰 목록을 표시한다
   - 최신 리뷰 3~5개
   - "더보기" 버튼
8. 시스템이 액션 버튼을 표시한다
   - 전화하기
   - 길찾기 (Google Maps로 연결)
   - 웹사이트 방문
9. 사용자가 "길찾기" 버튼을 탭한다
10. 시스템이 Google Maps 앱/웹으로 연결한다
```

### 대안 흐름 (Alternative Flows)

#### A1: 전화 걸기
```
9a. 사용자가 "전화하기" 버튼을 탭한다
9b. 시스템이 전화 앱을 실행한다
9c. 전화번호가 자동으로 입력된다
```

#### A2: 웹사이트 방문
```
9a. 사용자가 "웹사이트" 버튼을 탭한다
9b. 시스템이 새 탭에서 웹사이트를 연다
```

#### A3: 사진 갤러리 확대
```
3a. 사용자가 사진을 탭한다
3b. 시스템이 전체 화면 갤러리 모드를 표시한다
3c. 사용자가 스와이프로 다른 사진을 확인한다
3d. 사용자가 닫기 버튼을 탭한다
3e. (기본 흐름으로 복귀)
```

#### A4: 전체 리뷰 보기
```
7a. 사용자가 "리뷰 더보기"를 탭한다
7b. 시스템이 리뷰 전체 목록 화면을 표시한다
7c. 사용자가 리뷰를 스크롤하며 확인한다
```

### 예외 흐름 (Exception Flows)

#### E1: 상세 정보 로딩 실패
```
2a. 음식점 상세 정보 조회에 실패한다
2b. 시스템이 "정보를 불러올 수 없습니다" 에러 표시
2c. 시스템이 재시도 버튼을 제공한다
```

#### E2: 사진 없음
```
3a. 음식점 사진이 없다
3b. 시스템이 기본 플레이스홀더 이미지를 표시한다
```

#### E3: 영업시간 정보 없음
```
5a. 영업시간 정보가 없다
5b. 시스템이 "영업시간 정보 없음"으로 표시한다
```

---

## ✅ 인수 조건 (Acceptance Criteria)

### AC-1: 상세 화면 진입
- [ ] 음식점 카드 탭 시 상세 화면으로 이동한다
- [ ] 상세 정보가 2초 이내에 로딩된다
- [ ] 로딩 중 스켈레톤 UI가 표시된다

### AC-2: 사진 갤러리
- [ ] 음식점 사진이 상단에 표시된다
- [ ] 좌우 스와이프로 다른 사진을 볼 수 있다
- [ ] 사진 탭 시 전체 화면 갤러리가 열린다
- [ ] 사진이 없는 경우 플레이스홀더가 표시된다

### AC-3: 기본 정보 표시
- [ ] 음식점 이름이 표시된다
- [ ] 평점과 리뷰 수가 표시된다
- [ ] 가격대가 표시된다 (정보 있는 경우)
- [ ] 영업 상태(영업 중/종료)가 뱃지로 표시된다

### AC-4: 상세 정보 표시
- [ ] 상세 주소가 표시되고 복사 가능하다
- [ ] 영업시간이 표시된다 (오늘 강조)
- [ ] 전화번호가 표시된다 (있는 경우)

### AC-5: 지도 미리보기
- [ ] 음식점 위치가 지도에 마커로 표시된다
- [ ] 현재 위치에서의 거리가 표시된다
- [ ] 지도 탭 시 Google Maps로 연결된다

### AC-6: 리뷰 표시
- [ ] 최근 리뷰 3~5개가 표시된다
- [ ] 리뷰에 작성자, 평점, 내용, 날짜가 표시된다
- [ ] "더보기" 버튼으로 전체 리뷰를 볼 수 있다

### AC-7: 액션 버튼
- [ ] 전화하기 버튼 탭 시 전화 앱이 실행된다
- [ ] 길찾기 버튼 탭 시 Google Maps로 연결된다
- [ ] 웹사이트 버튼 탭 시 새 탭에서 열린다
- [ ] 해당 정보가 없는 버튼은 비활성화된다

---

## 🔗 관련 기능 명세

| 기능 ID | 기능명 | 역할 |
|---------|--------|------|
| [FR-004](../features/FR-004.md) | 음식점 상세 정보 조회 | 상세 정보 API 연동 및 표시 |

---

## 🎨 UI/UX 참조

- [design_system.md](../../design_system.md)
  - 섹션 6.1: 버튼 스타일
  - 섹션 6.2: 카드 스타일
  - 섹션 6.5: 평점 표시
  - 섹션 10.4: 페이지 전환 애니메이션

### 화면 구성 요소

```
┌─────────────────────────────────────┐
│  ← 뒤로                             │  ← 헤더
├─────────────────────────────────────┤
│  ┌─────────────────────────────────┐│
│  │         📷 사진 갤러리           ││  ← 스와이프 가능
│  │         ○ ○ ● ○ ○              ││  ← 인디케이터
│  └─────────────────────────────────┘│
├─────────────────────────────────────┤
│  맛있는 국밥집                       │  ← 음식점 이름
│  한식 · 국밥                         │  ← 카테고리
│  ⭐ 4.5 (128) · ₩₩ · [영업 중]      │  ← 평점, 가격, 상태
├─────────────────────────────────────┤
│  📍 서울 강남구 역삼동 123-45        │  ← 주소
│  📞 02-1234-5678                    │  ← 전화번호
│  🕐 오늘 11:00 - 22:00  ▼           │  ← 영업시간
├─────────────────────────────────────┤
│  ┌─────────────────────────────────┐│
│  │         🗺️ 지도                 ││  ← 지도 미리보기
│  │         📍 현재 위치에서 500m    ││
│  └─────────────────────────────────┘│
├─────────────────────────────────────┤
│  리뷰 (128개)                        │
│  ┌─────────────────────────────────┐│
│  │ 👤 홍길동  ⭐⭐⭐⭐⭐            ││
│  │ "국물이 정말 시원하고..."         ││
│  │ 2024.12.01                       ││
│  └─────────────────────────────────┘│
│  [리뷰 더보기]                       │
├─────────────────────────────────────┤
│  [📞 전화] [🗺️ 길찾기] [🌐 웹사이트]│  ← 액션 버튼
└─────────────────────────────────────┘
```

---

## 🛠️ 개발 참조

- [DEVELOPMENT_GUIDE.md](../../DEVELOPMENT_GUIDE.md)
  - 섹션 4.1: Container-Presenter 패턴
  - 섹션 9: API 호출 패턴
  - 섹션 10: 에러 처리

### 활용 API

| API | 용도 | 문서 |
|-----|------|------|
| Google Place Details | 음식점 상세 정보 | [api_docs/google-place-api-place-details.md](../../api_docs/google-place-api-place-details.md) |
| Google Place Photos | 음식점 사진 | [api_docs/google-place-api-place-photos.md](../../api_docs/google-place-api-place-photos.md) |

---

## 📊 테스트 시나리오

| ID | 시나리오 | 예상 결과 |
|----|---------|----------|
| TC-001 | 음식점 카드 탭 | 상세 화면 표시 |
| TC-002 | 사진 스와이프 | 다음 사진으로 이동 |
| TC-003 | 사진 탭 | 전체 화면 갤러리 표시 |
| TC-004 | 전화하기 버튼 탭 | 전화 앱 실행 |
| TC-005 | 길찾기 버튼 탭 | Google Maps 연결 |
| TC-006 | 웹사이트 버튼 탭 | 새 탭에서 웹사이트 열림 |
| TC-007 | 주소 복사 | 클립보드에 복사됨 |
| TC-008 | 리뷰 더보기 탭 | 전체 리뷰 목록 표시 |
| TC-009 | 사진 없는 음식점 | 플레이스홀더 표시 |
| TC-010 | API 오류 상황 | 에러 메시지 표시 |

---

## 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|----------|--------|
| 1.0 | 2024-12-04 | 최초 작성 | - |


