# 📖 US-001: 현재 위치에서 날씨 기반 음식점 추천받기

## 📋 문서 정보

| 항목 | 내용 |
|------|------|
| **User Story ID** | US-001 |
| **버전** | 1.0 |
| **작성일** | 2024년 12월 4일 |
| **상태** | 📝 작성완료 |

---

## 🎯 User Story

> **사용자로서**, 현재 내 위치의 날씨에 맞는 음식점을 추천받고 싶다.  
> **왜냐하면**, 날씨에 따라 먹고 싶은 음식이 달라지고, 빠르게 음식점을 결정하고 싶기 때문이다.

---

## 👤 페르소나

| 항목 | 내용 |
|------|------|
| **이름** | 김점심 |
| **나이** | 32세 |
| **직업** | 직장인 |
| **상황** | 점심시간, 회사 근처에서 뭘 먹을지 고민 중 |
| **니즈** | 오늘 날씨에 딱 맞는 음식을 빠르게 결정하고 싶음 |

---

## 📝 시나리오 상세

### 사전 조건 (Preconditions)
- 사용자의 디바이스에 GPS 기능이 있음
- 인터넷 연결이 가능한 상태
- 서비스에 접속한 상태

### 기본 흐름 (Basic Flow)

```
1. 사용자가 서비스 메인 화면에 접속한다
2. 시스템이 위치 권한 요청 팝업을 표시한다
3. 사용자가 "위치 권한 허용"을 선택한다
4. 시스템이 현재 위치의 좌표를 획득한다
5. 시스템이 현재 위치의 날씨 정보를 조회한다
6. 시스템이 날씨 정보를 화면 상단에 표시한다
   - 현재 기온, 체감온도, 날씨 상태, 아이콘
7. 시스템이 날씨 조건에 맞는 음식 카테고리를 추천한다
   - 예: 비 오는 날 → "따뜻한 국물 요리"
8. 시스템이 추천 음식으로 주변 음식점을 검색한다
9. 시스템이 음식점 목록을 카드 형태로 표시한다
   - 이름, 주소, 평점, 가격대, 대표 사진
10. 사용자가 원하는 음식점 카드를 확인한다
```

### 대안 흐름 (Alternative Flows)

#### A1: 다른 음식 카테고리 선택
```
7a. 사용자가 추천된 음식 외 다른 카테고리를 원한다
7b. 사용자가 음식 카테고리 칩을 탭한다 (예: 냉면, 파스타)
7c. 시스템이 선택된 카테고리로 음식점을 재검색한다
7d. (기본 흐름 9번으로 복귀)
```

#### A2: 필터 적용
```
9a. 사용자가 필터 버튼을 탭한다
9b. 시스템이 필터 옵션을 표시한다
    - 현재 영업 중만
    - 최소 평점 (3.5 이상, 4.0 이상)
    - 가격대 (저렴, 보통, 고급)
    - 정렬 (거리순, 평점순)
9c. 사용자가 필터를 적용한다
9d. 시스템이 필터에 맞게 목록을 갱신한다
```

### 예외 흐름 (Exception Flows)

#### E1: 위치 권한 거부
```
3a. 사용자가 위치 권한을 거부한다
3b. 시스템이 "위치를 직접 입력해주세요" 안내를 표시한다
3c. US-002 (위치 수동 입력) 시나리오로 전환
```

#### E2: 날씨 API 오류
```
5a. 날씨 정보 조회에 실패한다
5b. 시스템이 "날씨 정보를 가져올 수 없습니다" 에러 표시
5c. 시스템이 기본 추천 (다양한 음식)으로 진행
```

#### E3: 주변에 음식점 없음
```
9a. 검색 반경 내 음식점이 없다
9b. 시스템이 "주변에 음식점이 없습니다" 표시
9c. 시스템이 검색 반경 확대를 제안한다
```

---

## ✅ 인수 조건 (Acceptance Criteria)

### AC-1: 위치 권한 요청
- [ ] 최초 접속 시 위치 권한 요청 팝업이 표시된다
- [ ] 권한 허용 시 현재 위치 좌표를 획득한다
- [ ] 권한 거부 시 수동 위치 입력 화면으로 안내한다

### AC-2: 날씨 정보 표시
- [ ] 현재 위치의 날씨가 2초 이내에 표시된다
- [ ] 기온, 체감온도, 날씨 상태, 습도가 표시된다
- [ ] 날씨 아이콘이 날씨 상태에 맞게 표시된다
- [ ] 날씨에 따라 화면 테마 색상이 변경된다

### AC-3: 음식 추천
- [ ] 날씨 조건에 맞는 음식 카테고리가 추천된다
- [ ] 추천 음식 외에 다른 카테고리도 선택 가능하다
- [ ] 카테고리 변경 시 음식점 목록이 갱신된다

### AC-4: 음식점 목록
- [ ] 최소 5개 이상의 음식점이 표시된다
- [ ] 각 음식점에 이름, 주소, 평점, 대표 사진이 표시된다
- [ ] 영업 중/영업 종료 상태가 뱃지로 표시된다
- [ ] 무한 스크롤 또는 더보기로 추가 로딩 가능하다

### AC-5: 필터 기능
- [ ] 필터 옵션을 적용할 수 있다
- [ ] 필터 적용 시 실시간으로 목록이 갱신된다
- [ ] 적용된 필터 개수가 표시된다

---

## 🔗 관련 기능 명세

| 기능 ID | 기능명 | 역할 |
|---------|--------|------|
| [FR-001](../features/FR-001.md) | 현재 위치 날씨 조회 | 날씨 API 연동 및 표시 |
| [FR-002](../features/FR-002.md) | 날씨 기반 음식 추천 | 날씨→음식 매핑 로직 |
| [FR-003](../features/FR-003.md) | 주변 음식점 검색 | Places API 연동 및 목록 표시 |

---

## 🎨 UI/UX 참조

- [design_system.md](../../design_system.md) - 전체 디자인 시스템
  - 섹션 2.2: 날씨별 테마 컬러
  - 섹션 6.2: 카드 컴포넌트
  - 섹션 6.4: 뱃지 컴포넌트

### 화면 구성 요소

```
┌─────────────────────────────────────┐
│  📍 서울 강남구                      │  ← 위치 표시
│  ☀️ 맑음  22°C  체감 24°C           │  ← 날씨 정보
├─────────────────────────────────────┤
│  오늘 같은 날엔...                   │
│  [파스타] [피자] [브런치] [한식]      │  ← 추천 카테고리
├─────────────────────────────────────┤
│  ┌─────────┐  ┌─────────┐          │
│  │  📷     │  │  📷     │          │  ← 음식점 카드
│  │ 맛집A   │  │ 맛집B   │          │
│  │ ⭐ 4.5  │  │ ⭐ 4.3  │          │
│  └─────────┘  └─────────┘          │
│                                     │
│  [🔍 필터]                          │  ← 필터 버튼
└─────────────────────────────────────┘
```

---

## 🛠️ 개발 참조

- [DEVELOPMENT_GUIDE.md](../../DEVELOPMENT_GUIDE.md)
  - 섹션 4.2: 상태 관리 패턴 (Zustand, React Query)
  - 섹션 9: API 호출 패턴
  - 섹션 10: 에러 처리

---

## 📊 테스트 시나리오

| ID | 시나리오 | 예상 결과 |
|----|---------|----------|
| TC-001 | 위치 권한 허용 후 접속 | 현재 위치 날씨 및 음식점 표시 |
| TC-002 | 위치 권한 거부 | 수동 입력 안내 표시 |
| TC-003 | 비 오는 날 테스트 | 국물 요리 카테고리 추천 |
| TC-004 | 더운 날 테스트 | 시원한 음식 카테고리 추천 |
| TC-005 | 카테고리 변경 | 새로운 음식점 목록 표시 |
| TC-006 | 필터 적용 | 필터 조건에 맞는 목록 표시 |

---

## 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|----------|--------|
| 1.0 | 2024-12-04 | 최초 작성 | - |


