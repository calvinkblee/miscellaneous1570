# âš™ï¸ FR-004: ìŒì‹ì  ìƒì„¸ ì •ë³´ ì¡°íšŒ

## ğŸ“‹ ë¬¸ì„œ ì •ë³´

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ê¸°ëŠ¥ ID** | FR-004 |
| **ë²„ì „** | 1.0 |
| **ì‘ì„±ì¼** | 2024ë…„ 12ì›” 4ì¼ |
| **ìš°ì„ ìˆœìœ„** | ğŸ”´ í•„ìˆ˜ |
| **ì˜ˆìƒ ê³µìˆ˜** | 3ì¼ |
| **ìƒíƒœ** | ğŸ“ ì‘ì„±ì™„ë£Œ |

---

## ğŸ¯ ê¸°ëŠ¥ ê°œìš”

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ê¸°ëŠ¥ëª…** | ìŒì‹ì  ìƒì„¸ ì •ë³´ ì¡°íšŒ |
| **ì„¤ëª…** | ì„ íƒí•œ ìŒì‹ì ì˜ ìƒì„¸ ì •ë³´(ì‚¬ì§„ ê°¤ëŸ¬ë¦¬, ì˜ì—…ì‹œê°„, ë¦¬ë·°, ì§€ë„)ë¥¼ ì¡°íšŒí•˜ì—¬ í‘œì‹œí•˜ê³  ì•¡ì…˜(ì „í™”, ê¸¸ì°¾ê¸°) ì œê³µ |
| **ì…ë ¥** | Place ID |
| **ì¶œë ¥** | ìƒì„¸ ì •ë³´, ì‚¬ì§„ ê°¤ëŸ¬ë¦¬, ë¦¬ë·° ëª©ë¡, ì§€ë„, ì•¡ì…˜ ë²„íŠ¼ |

---

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ

| ë¬¸ì„œ | ì—­í•  |
|------|------|
| [US-003](../user-stories/US-003.md) | ê´€ë ¨ ì‚¬ìš©ì ìŠ¤í† ë¦¬ |
| [FR-003](./FR-003.md) | ì„ í–‰ ê¸°ëŠ¥ (ìŒì‹ì  ê²€ìƒ‰) |
| [google-place-api-place-details.md](../../api_docs/google-place-api-place-details.md) | Place Details API ë¬¸ì„œ |
| [google-place-api-place-photos.md](../../api_docs/google-place-api-place-photos.md) | Place Photos API ë¬¸ì„œ |
| [design_system.md](../../design_system.md) | UI ë””ìì¸ ê°€ì´ë“œ |
| [DEVELOPMENT_GUIDE.md](../../DEVELOPMENT_GUIDE.md) | ê°œë°œ ê°€ì´ë“œ |

---

## ğŸ“¡ API ì—°ë™ ëª…ì„¸

### Google Places Details API (New)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì—”ë“œí¬ì¸íŠ¸** | `https://places.googleapis.com/v1/places/{placeId}` |
| **ë©”ì„œë“œ** | GET |
| **ì¸ì¦** | API Key (Header) |

### ìš”ì²­ í—¤ë”

| í—¤ë” | ê°’ |
|------|-----|
| `X-Goog-Api-Key` | `{API_KEY}` |
| `X-Goog-FieldMask` | ì‘ë‹µ í•„ë“œ ë§ˆìŠ¤í¬ |

### í•„ë“œ ë§ˆìŠ¤í¬ (ìƒì„¸ ì •ë³´ìš©)

```
id,
displayName,
formattedAddress,
location,
rating,
userRatingCount,
priceLevel,
photos,
currentOpeningHours,
regularOpeningHours,
internationalPhoneNumber,
nationalPhoneNumber,
websiteUri,
googleMapsUri,
reviews,
editorialSummary,
dineIn,
takeout,
delivery,
primaryType
```

### ìš”ì²­ ì˜ˆì‹œ

```typescript
// services/places/placesService.ts
const response = await apiClient.get(
  `https://places.googleapis.com/v1/places/${placeId}`,
  {
    headers: {
      'X-Goog-Api-Key': env.GOOGLE_PLACES_API_KEY,
      'X-Goog-FieldMask': DETAIL_FIELD_MASK,
    },
    params: {
      languageCode: 'ko',
    },
  }
);
```

### ì‘ë‹µ ë°ì´í„°

```typescript
interface PlaceDetailResponse {
  id: string;
  displayName: {
    text: string;
    languageCode: string;
  };
  formattedAddress: string;
  location: {
    latitude: number;
    longitude: number;
  };
  rating?: number;
  userRatingCount?: number;
  priceLevel?: string;
  photos?: Array<{
    name: string;
    widthPx: number;
    heightPx: number;
    authorAttributions?: Array<{
      displayName: string;
      uri?: string;
    }>;
  }>;
  currentOpeningHours?: {
    openNow: boolean;
    weekdayDescriptions?: string[];
  };
  regularOpeningHours?: {
    weekdayDescriptions: string[];
  };
  internationalPhoneNumber?: string;
  nationalPhoneNumber?: string;
  websiteUri?: string;
  googleMapsUri?: string;
  reviews?: Array<{
    name: string;
    rating: number;
    text?: { text: string };
    authorAttribution: {
      displayName: string;
      photoUri?: string;
    };
    publishTime: string;
    relativePublishTimeDescription: string;
  }>;
  editorialSummary?: {
    text: string;
  };
  dineIn?: boolean;
  takeout?: boolean;
  delivery?: boolean;
  primaryType?: string;
}
```

### Google Places Photos API

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì—”ë“œí¬ì¸íŠ¸** | `https://places.googleapis.com/v1/{photoName}/media` |
| **ë©”ì„œë“œ** | GET |
| **íŒŒë¼ë¯¸í„°** | `maxHeightPx`, `maxWidthPx`, `key` |

```typescript
// ì‚¬ì§„ URL ìƒì„±
const photoUrl = `https://places.googleapis.com/v1/${photo.name}/media?maxWidthPx=800&key=${API_KEY}`;
```

---

## ğŸ—‚ï¸ ë°ì´í„° ëª¨ë¸

### PlaceDetail íƒ€ì…

```typescript
// types/places.ts

export interface PlaceDetail {
  id: string;
  displayName: string;
  address: string;
  location: {
    lat: number;
    lng: number;
  };
  rating?: number;
  reviewCount?: number;
  priceLevel?: PriceLevel;
  photos: PlacePhoto[];
  openingHours?: {
    isOpen: boolean;
    weekdayText: string[];
  };
  phone?: string;
  website?: string;
  mapsUrl?: string;
  reviews: PlaceReview[];
  summary?: string;
  services: {
    dineIn: boolean;
    takeout: boolean;
    delivery: boolean;
  };
  type?: string;
}

export interface PlacePhoto {
  name: string;
  url: string;
  width: number;
  height: number;
  author?: string;
}

export interface PlaceReview {
  id: string;
  rating: number;
  text: string;
  author: {
    name: string;
    photoUrl?: string;
  };
  publishTime: string;
  relativeTime: string;
}
```

---

## ğŸ—ï¸ êµ¬í˜„ ëª…ì„¸

### ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
src/
â”œâ”€â”€ services/
â”‚   â””â”€â”€ places/
â”‚       â”œâ”€â”€ placesService.ts      # getPlaceDetail ì¶”ê°€
â”‚       â””â”€â”€ placesUtils.ts        # ë³€í™˜ í•¨ìˆ˜ ì¶”ê°€
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ usePlaceDetail.ts         # ìƒì„¸ ì •ë³´ Hook
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ PlaceDetailPage.tsx       # ìƒì„¸ í˜ì´ì§€
â”œâ”€â”€ components/
â”‚   â””â”€â”€ place-detail/
â”‚       â”œâ”€â”€ PlaceDetailHeader.tsx # í—¤ë” (ë’¤ë¡œê°€ê¸°)
â”‚       â”œâ”€â”€ PhotoGallery.tsx      # ì‚¬ì§„ ê°¤ëŸ¬ë¦¬
â”‚       â”œâ”€â”€ PlaceInfo.tsx         # ê¸°ë³¸ ì •ë³´
â”‚       â”œâ”€â”€ OpeningHours.tsx      # ì˜ì—…ì‹œê°„
â”‚       â”œâ”€â”€ PlaceMap.tsx          # ì§€ë„ ë¯¸ë¦¬ë³´ê¸°
â”‚       â”œâ”€â”€ ReviewList.tsx        # ë¦¬ë·° ëª©ë¡
â”‚       â”œâ”€â”€ ReviewCard.tsx        # ë¦¬ë·° ì¹´ë“œ
â”‚       â””â”€â”€ ActionButtons.tsx     # ì•¡ì…˜ ë²„íŠ¼
â””â”€â”€ routers/
    â””â”€â”€ index.tsx                 # ë¼ìš°íŠ¸ ì¶”ê°€
```

### ì„œë¹„ìŠ¤ ë ˆì´ì–´

```typescript
// services/places/placesService.ts (ì¶”ê°€)

const DETAIL_FIELD_MASK = [
  'id',
  'displayName',
  'formattedAddress',
  'location',
  'rating',
  'userRatingCount',
  'priceLevel',
  'photos',
  'currentOpeningHours',
  'regularOpeningHours',
  'internationalPhoneNumber',
  'nationalPhoneNumber',
  'websiteUri',
  'googleMapsUri',
  'reviews',
  'editorialSummary',
  'dineIn',
  'takeout',
  'delivery',
  'primaryType',
].join(',');

export const placesService = {
  // ... ê¸°ì¡´ ì½”ë“œ

  /**
   * ìŒì‹ì  ìƒì„¸ ì •ë³´ ì¡°íšŒ
   */
  async getPlaceDetail(placeId: string): Promise<PlaceDetail> {
    const response = await apiClient.get(
      `https://places.googleapis.com/v1/places/${placeId}`,
      {
        headers: {
          'X-Goog-Api-Key': env.GOOGLE_PLACES_API_KEY,
          'X-Goog-FieldMask': DETAIL_FIELD_MASK,
        },
        params: {
          languageCode: 'ko',
        },
      }
    );
    return transformPlaceDetailResponse(response.data);
  },
};
```

### React Query Hook

```typescript
// hooks/usePlaceDetail.ts
import { useQuery } from '@tanstack/react-query';
import { placesService } from '@/services/places';

export const usePlaceDetail = (placeId: string | null) => {
  return useQuery({
    queryKey: ['place-detail', placeId],
    queryFn: () => placesService.getPlaceDetail(placeId!),
    enabled: !!placeId,
    staleTime: 10 * 60 * 1000, // 10ë¶„
    retry: 2,
  });
};
```

### ë¼ìš°íŒ…

```typescript
// routers/index.tsx
import { createBrowserRouter } from 'react-router-dom';
import { PlaceDetailPage } from '@/pages/PlaceDetailPage';

export const router = createBrowserRouter([
  // ... ê¸°ì¡´ ë¼ìš°íŠ¸
  {
    path: '/place/:placeId',
    element: <PlaceDetailPage />,
  },
]);
```

---

## ğŸ¨ UI ì»´í¬ë„ŒíŠ¸ ëª…ì„¸

### PlaceDetailPage êµ¬ì¡°

```typescript
// pages/PlaceDetailPage.tsx
export const PlaceDetailPage = () => {
  const { placeId } = useParams();
  const { data: place, isLoading, error } = usePlaceDetail(placeId);

  if (isLoading) return <PlaceDetailSkeleton />;
  if (error) return <PlaceDetailError />;
  if (!place) return null;

  return (
    <div className="min-h-screen bg-cream">
      <PlaceDetailHeader />
      <PhotoGallery photos={place.photos} />
      <div className="container py-6 space-y-6">
        <PlaceInfo place={place} />
        <OpeningHours hours={place.openingHours} />
        <PlaceMap location={place.location} name={place.displayName} />
        <ReviewList reviews={place.reviews} totalCount={place.reviewCount} />
      </div>
      <ActionButtons place={place} />
    </div>
  );
};
```

### í™”ë©´ ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† ë’¤ë¡œ                             â”‚  â† í—¤ë” (íˆ¬ëª… â†’ ìŠ¤í¬ë¡¤ ì‹œ í°ìƒ‰)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                                 â”‚â”‚
â”‚  â”‚         ğŸ“· ì‚¬ì§„ ê°¤ëŸ¬ë¦¬           â”‚â”‚  â† ìŠ¤ì™€ì´í”„ ê°€ëŠ¥
â”‚  â”‚                                 â”‚â”‚     aspect-ratio: 16/10
â”‚  â”‚         â—‹ â—‹ â— â—‹ â—‹              â”‚â”‚  â† ì¸ë””ì¼€ì´í„°
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ë§›ìˆëŠ” êµ­ë°¥ì§‘                       â”‚  â† H1, ìŒì‹ì  ì´ë¦„
â”‚  í•œì‹ Â· êµ­ë°¥                         â”‚  â† ì¹´í…Œê³ ë¦¬
â”‚  â­ 4.5 (128) Â· â‚©â‚© Â· [ì˜ì—… ì¤‘]      â”‚  â† í‰ì , ê°€ê²©, ì˜ì—…ìƒíƒœ
â”‚                                     â”‚
â”‚  "ì§„í•œ êµ­ë¬¼ì´ ì¼í’ˆì¸ êµ­ë°¥ ì „ë¬¸ì "     â”‚  â† editorialSummary
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ ì£¼ì†Œ                             â”‚
â”‚  ì„œìš¸ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ 123-45           â”‚  â† ë³µì‚¬ ë²„íŠ¼
â”‚                                     â”‚
â”‚  ğŸ“ ì „í™”ë²ˆí˜¸                         â”‚
â”‚  02-1234-5678                       â”‚  â† íƒ­í•˜ë©´ ì „í™”
â”‚                                     â”‚
â”‚  ğŸ• ì˜ì—…ì‹œê°„                         â”‚
â”‚  ì˜¤ëŠ˜ 11:00 - 22:00                 â”‚  â† ì˜¤ëŠ˜ ê°•ì¡°
â”‚  â–¼ ì „ì²´ ì˜ì—…ì‹œê°„ ë³´ê¸°                â”‚  â† ì ‘ì´ì‹
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ½ï¸ ì„œë¹„ìŠ¤ ì˜µì…˜                      â”‚
â”‚  [ë§¤ì¥ì‹ì‚¬] [í¬ì¥ê°€ëŠ¥] [ë°°ë‹¬ê°€ëŠ¥]     â”‚  â† ë±ƒì§€
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                                 â”‚â”‚
â”‚  â”‚         ğŸ—ºï¸ ì§€ë„                 â”‚â”‚  â† Google Maps ì„ë² ë“œ
â”‚  â”‚              ğŸ“                  â”‚â”‚     ë˜ëŠ” Static Map
â”‚  â”‚                                 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  í˜„ì¬ ìœ„ì¹˜ì—ì„œ 500m                  â”‚  â† ê±°ë¦¬
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ë¦¬ë·° (128ê°œ)                 ë”ë³´ê¸° â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ‘¤ í™ê¸¸ë™  â­â­â­â­â­  3ì¼ ì „   â”‚â”‚
â”‚  â”‚ "êµ­ë¬¼ì´ ì •ë§ ì‹œì›í•˜ê³  ê¹Šì€ ë§›ì´  â”‚â”‚
â”‚  â”‚  ë‚˜ìš”. ê³ ê¸°ë„ í‘¸ì§í•˜ê³ ..."       â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ‘¤ ê¹€ë§›ì§‘  â­â­â­â­  1ì£¼ì¼ ì „   â”‚â”‚
â”‚  â”‚ "ê°€ì„±ë¹„ê°€ ì¢‹ì•„ìš”. ë‹¤ë§Œ ì£¼ì°¨ê°€..."â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚  â† í•˜ë‹¨ ì—¬ë°± (ë²„íŠ¼ ê³µê°„)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ğŸ“ ì „í™”] [ğŸ—ºï¸ ê¸¸ì°¾ê¸°] [ğŸŒ ì›¹ì‚¬ì´íŠ¸]â”‚  â† í•˜ë‹¨ ê³ ì • ì•¡ì…˜ ë²„íŠ¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### PhotoGallery ì»´í¬ë„ŒíŠ¸

```typescript
// components/place-detail/PhotoGallery.tsx
interface PhotoGalleryProps {
  photos: PlacePhoto[];
}

export const PhotoGallery = ({ photos }: PhotoGalleryProps) => {
  const [currentIndex, setCurrentIndex] = useState(0);

  if (!photos.length) {
    return <div className="aspect-[16/10] bg-gray-200" />;
  }

  return (
    <div className="relative aspect-[16/10]">
      <img
        src={photos[currentIndex].url}
        alt={`ì‚¬ì§„ ${currentIndex + 1}`}
        className="w-full h-full object-cover"
      />
      {/* ìŠ¤ì™€ì´í”„ ë„¤ë¹„ê²Œì´ì…˜ */}
      {/* ì¸ë””ì¼€ì´í„° */}
      <div className="absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-1">
        {photos.map((_, i) => (
          <div
            key={i}
            className={cn(
              'w-2 h-2 rounded-full',
              i === currentIndex ? 'bg-white' : 'bg-white/50'
            )}
          />
        ))}
      </div>
    </div>
  );
};
```

### ActionButtons ì»´í¬ë„ŒíŠ¸

```typescript
// components/place-detail/ActionButtons.tsx
interface ActionButtonsProps {
  place: PlaceDetail;
}

export const ActionButtons = ({ place }: ActionButtonsProps) => {
  const handleCall = () => {
    if (place.phone) {
      window.location.href = `tel:${place.phone}`;
    }
  };

  const handleDirections = () => {
    if (place.mapsUrl) {
      window.open(place.mapsUrl, '_blank');
    }
  };

  const handleWebsite = () => {
    if (place.website) {
      window.open(place.website, '_blank');
    }
  };

  return (
    <div className="fixed bottom-0 left-0 right-0 bg-white border-t p-4">
      <div className="container flex gap-3">
        <Button
          onClick={handleCall}
          disabled={!place.phone}
          className="flex-1"
        >
          ğŸ“ ì „í™”
        </Button>
        <Button
          onClick={handleDirections}
          variant="primary"
          className="flex-1"
        >
          ğŸ—ºï¸ ê¸¸ì°¾ê¸°
        </Button>
        <Button
          onClick={handleWebsite}
          disabled={!place.website}
          variant="secondary"
          className="flex-1"
        >
          ğŸŒ ì›¹ì‚¬ì´íŠ¸
        </Button>
      </div>
    </div>
  );
};
```

---

## âœ… ì¸ìˆ˜ ì¡°ê±´

| ID | ì¡°ê±´ | í…ŒìŠ¤íŠ¸ ë°©ë²• |
|----|------|-----------|
| AC-1 | ìŒì‹ì  ì¹´ë“œ í´ë¦­ ì‹œ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™ | ë„¤ë¹„ê²Œì´ì…˜ í™•ì¸ |
| AC-2 | ìƒì„¸ ì •ë³´ê°€ 3ì´ˆ ì´ë‚´ì— ë¡œë”©ë¨ | ë¡œë”© ì‹œê°„ ì¸¡ì • |
| AC-3 | ì‚¬ì§„ ê°¤ëŸ¬ë¦¬ ìŠ¤ì™€ì´í”„ ë™ì‘ | í„°ì¹˜/ë“œë˜ê·¸ í…ŒìŠ¤íŠ¸ |
| AC-4 | ì‚¬ì§„ íƒ­ ì‹œ ì „ì²´ í™”ë©´ ê°¤ëŸ¬ë¦¬ í‘œì‹œ | íƒ­ í…ŒìŠ¤íŠ¸ |
| AC-5 | ìŒì‹ì  ì´ë¦„, í‰ì , ê°€ê²©ëŒ€ í‘œì‹œ | UI í™•ì¸ |
| AC-6 | ì˜ì—… ìƒíƒœ(ì˜ì—… ì¤‘/ì¢…ë£Œ) í‘œì‹œ | UI í™•ì¸ |
| AC-7 | ìƒì„¸ ì£¼ì†Œ í‘œì‹œ ë° ë³µì‚¬ ê¸°ëŠ¥ | ë³µì‚¬ ë²„íŠ¼ í…ŒìŠ¤íŠ¸ |
| AC-8 | ì˜ì—…ì‹œê°„ í‘œì‹œ (ì˜¤ëŠ˜ ê°•ì¡°) | UI í™•ì¸ |
| AC-9 | ì§€ë„ì— ìœ„ì¹˜ ë§ˆì»¤ í‘œì‹œ | ì§€ë„ í™•ì¸ |
| AC-10 | ë¦¬ë·° ëª©ë¡ í‘œì‹œ (ìµœì†Œ 3ê°œ) | UI í™•ì¸ |
| AC-11 | ì „í™” ë²„íŠ¼ â†’ ì „í™” ì•± ì‹¤í–‰ | ëª¨ë°”ì¼ í…ŒìŠ¤íŠ¸ |
| AC-12 | ê¸¸ì°¾ê¸° ë²„íŠ¼ â†’ Google Maps ì—°ê²° | ë§í¬ í…ŒìŠ¤íŠ¸ |
| AC-13 | ì›¹ì‚¬ì´íŠ¸ ë²„íŠ¼ â†’ ìƒˆ íƒ­ì—ì„œ ì—´ë¦¼ | ë§í¬ í…ŒìŠ¤íŠ¸ |
| AC-14 | ì •ë³´ ì—†ëŠ” ë²„íŠ¼ì€ ë¹„í™œì„±í™” | UI í™•ì¸ |
| AC-15 | ë’¤ë¡œê°€ê¸° ë²„íŠ¼ ë™ì‘ | ë„¤ë¹„ê²Œì´ì…˜ í™•ì¸ |

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

```typescript
// services/places/placesService.test.ts
describe('placesService.getPlaceDetail', () => {
  it('should return place details', async () => {
    const result = await placesService.getPlaceDetail('ChIJ...');
    
    expect(result.displayName).toBeDefined();
    expect(result.address).toBeDefined();
  });

  it('should handle missing phone number', async () => {
    const result = await placesService.getPlaceDetail('place-without-phone');
    
    expect(result.phone).toBeUndefined();
  });
});
```

### ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸

```typescript
// components/place-detail/ActionButtons.test.tsx
describe('ActionButtons', () => {
  it('disables call button when no phone', () => {
    const place = mockPlace({ phone: undefined });
    render(<ActionButtons place={place} />);
    
    expect(screen.getByText('ğŸ“ ì „í™”')).toBeDisabled();
  });

  it('opens maps on directions click', () => {
    const place = mockPlace({ mapsUrl: 'https://maps.google.com/...' });
    render(<ActionButtons place={place} />);
    
    fireEvent.click(screen.getByText('ğŸ—ºï¸ ê¸¸ì°¾ê¸°'));
    expect(window.open).toHaveBeenCalledWith(place.mapsUrl, '_blank');
  });
});
```

---

## âš ï¸ ì—ëŸ¬ ì²˜ë¦¬

| ì—ëŸ¬ ìƒí™© | ì²˜ë¦¬ ë°©ë²• |
|----------|----------|
| Place ID ì—†ìŒ | 404 í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ |
| API ì˜¤ë¥˜ | ì—ëŸ¬ ë©”ì‹œì§€ + ì¬ì‹œë„ ë²„íŠ¼ |
| ì‚¬ì§„ ë¡œë”© ì‹¤íŒ¨ | í”Œë ˆì´ìŠ¤í™€ë” ì´ë¯¸ì§€ í‘œì‹œ |
| ì˜ì—…ì‹œê°„ ì •ë³´ ì—†ìŒ | "ì˜ì—…ì‹œê°„ ì •ë³´ ì—†ìŒ" í‘œì‹œ |
| ì „í™”ë²ˆí˜¸ ì—†ìŒ | ì „í™” ë²„íŠ¼ ë¹„í™œì„±í™” |

---

## ğŸ“Š ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­

| í•­ëª© | ëª©í‘œ |
|------|------|
| API ì‘ë‹µ ì‹œê°„ | 3ì´ˆ ì´ë‚´ |
| ì‚¬ì§„ ë¡œë”© | Progressive/Lazy loading |
| ìºì‹œ ìœ íš¨ ì‹œê°„ | 10ë¶„ |
| ì‚¬ì§„ í¬ê¸° | ê°¤ëŸ¬ë¦¬: 800px, ì¸ë„¤ì¼: 400px |

---

## ë³€ê²½ ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ ë‚´ìš© | ì‘ì„±ì |
|------|------|----------|--------|
| 1.0 | 2024-12-04 | ìµœì´ˆ ì‘ì„± | - |


